name: Keep Render Alive

on:
  schedule:
    # Runs every 2 minutes (use "*/10" for every 10 minutes, etc.)
    - cron: "*/2 * * * *"
  workflow_dispatch:  # allows manual run from GitHub UI

jobs:
  ping:
    runs-on: ubuntu-latest

    steps:
      - name: Ping Render App
        run: |
          echo "üîÑ Pinging Render app to keep it awake..."
          STATUS=$(curl -s -o /dev/null -w "%{http_code}" https://sno-relax-server.onrender.com)
          echo "Response status: $STATUS"
          if [ "$STATUS" -eq 200 ]; then
            echo "‚úÖ Ping successful at $(date)"
          else
            echo "‚ö†Ô∏è Ping failed with status $STATUS at $(date)"
          fi
